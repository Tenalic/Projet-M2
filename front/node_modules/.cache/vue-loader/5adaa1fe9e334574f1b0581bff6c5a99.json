{"remainingRequest":"/home/corentin/Documents/Projets/Projet-M2/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/corentin/Documents/Projets/Projet-M2/front/src/views/Signup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/corentin/Documents/Projets/Projet-M2/front/src/views/Signup.vue","mtime":1607528871786},{"path":"/home/corentin/Documents/Projets/Projet-M2/front/node_modules/cache-loader/dist/cjs.js","mtime":1607521238977},{"path":"/home/corentin/Documents/Projets/Projet-M2/front/node_modules/babel-loader/lib/index.js","mtime":1607521238937},{"path":"/home/corentin/Documents/Projets/Projet-M2/front/node_modules/cache-loader/dist/cjs.js","mtime":1607521238977},{"path":"/home/corentin/Documents/Projets/Projet-M2/front/node_modules/vue-loader/lib/index.js","mtime":1607521240705}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBcGkgZnJvbSAnLi4vYXBpL0FwaS5qcycKCmNvbnN0IGFwaSA9IG5ldyBBcGkoKQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTaWdudXAnLAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgdmFsaWQ6IHRydWUsCiAgICAgIGxhc3RuYW1lOiAnJywKICAgICAgZmlyc3RuYW1lOiAnJywKICAgICAgbmlja25hbWU6ICcnLAogICAgICBlbWFpbDogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgcGFzc3dvcmQyOiAnJywKICAgICAgcnVsZXM6IHsKICAgICAgICByZXF1aXJlZDogdiA9PiAhIXYgfHwgJ0NlIGNoYW1wIGVzdCByZXF1aXMgIScsCiAgICAgICAgcGFzc3dkTWF0Y2g6ICgpID0+IHRoaXMucGFzc3dvcmQgPT09IHRoaXMucGFzc3dvcmQyIHx8ICdMZSBtb3QgZGUgcGFzc2UgbmUgY29ycmVzcG9uZCBwYXMnLAogICAgICAgIHBhc3N3b3JkOiAoKSA9PiAodGhpcy5wYXNzd29yZC5sZW5ndGggPiA3ICYmIC9bQS1aXS9nbS50ZXN0KHRoaXMucGFzc3dvcmQpICYmIC9bYS16XS9nbS50ZXN0KHRoaXMucGFzc3dvcmQpICYmIC9bMC05XS9nbS50ZXN0KHRoaXMucGFzc3dvcmQpICYmIC9bLiEjJCUmJyorLz0/Xl9ge3x9fi1dL2dtLnRlc3QodGhpcy5wYXNzd29yZCkpIHx8ICdMZSBtb3QgZGUgcGFzc2UgbmUgcmVzcGVjdGUgcGFzIGxlcyBjcml0w6hyZXMgIScsCiAgICAgICAgbWFpbDogdiA9PiAvLitALitcLi4rLy50ZXN0KHYpIHx8ICdMXCdlbWFpbCBkb2l0IMOqdHJlIHZhbGlkZSAhJwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBzdWJtaXQgKCkgewogICAgICB0cnkgewogICAgICAgIGlmICh0aGlzLiRyZWZzLnNpZ251cEZvcm0udmFsaWRhdGUoKSkgewogICAgICAgICAgY29uc29sZS5sb2coJ3N1Ym1pdCcpCiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgYXBpLmNyZWF0ZVVzZXIoewogICAgICAgICAgICBsYXN0bmFtZTogdGhpcy5sYXN0bmFtZSwKICAgICAgICAgICAgZmlyc3RuYW1lOiB0aGlzLmZpcnN0bmFtZSwKICAgICAgICAgICAgbmlja25hbWU6IHRoaXMubmlja25hbWUsCiAgICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZAogICAgICAgICAgfSkKICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpCiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCd7bWVzc2FnZX0nKQogICAgICB9CiAgICB9LAogICAgcmVzZXQgKCkgewogICAgICB0aGlzLiRyZWZzLnNpZ251cEZvcm0ucmVzZXQoKQogICAgfQogIH0KfQo="},{"version":3,"sources":["Signup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Signup.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container fill-height>\n    <v-row align=\"center\" justify=\"center\">\n      <v-col md=\"6\">\n        <v-card outlined>\n          <v-card-title>\n            S'inscrire\n          </v-card-title>\n          <v-card-text>\n            <v-form ref=\"signupForm\" v-model=\"valid\">\n              <v-container>\n                <v-row justify=\"start\">\n                  <v-col md=\"10\">\n                    <v-text-field append-outer-icon=\"mdi-format-text\" v-model=\"lastname\" :rules=\"[rules.required]\" label=\"Nom\" clearable outlined dense required></v-text-field>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col md=\"10\">\n                    <v-text-field append-outer-icon=\"mdi-format-text\" v-model=\"firstname\" :rules=\"[rules.required]\" label=\"Prénom\" clearable outlined dense required></v-text-field>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col md=\"10\">\n                    <v-text-field append-outer-icon=\"mdi-format-text\" v-model=\"nickname\" :rules=\"[rules.required]\" label=\"Pseudonyme\" clearable outlined dense required></v-text-field>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col md=\"10\">\n                    <v-text-field append-outer-icon=\"mdi-at\" v-model=\"email\" :rules=\"[rules.required, rules.mail]\" label=\"Email\" clearable outlined dense required></v-text-field>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col md=\"10\">\n                    <v-text-field append-outer-icon=\"mdi-lock-outline\" v-model=\"password\" :rules=\"[rules.required, rules.password]\" type=\"password\" label=\"Mot de passe\" clearable outlined dense required></v-text-field>\n                    <p class=\"password-info\">Votre mot de passe doit comporter au moins :</p>\n                    <p class=\"password-info\" :class=\"password.length > 7 ? 'correct' : 'incorrect'\">- 8 caractères</p>\n                    <p class=\"password-info\" :class=\"/[A-Z]/gm.test(password) ? 'correct' : 'incorrect'\">- Une lettre majuscule</p>\n                    <p class=\"password-info\" :class=\"/[a-z]/gm.test(password) ? 'correct' : 'incorrect'\">- Une lettre minuscule</p>\n                    <p class=\"password-info\" :class=\"/[0-9]/gm.test(password) ? 'correct' : 'incorrect'\">- Un chiffre</p>\n                    <p class=\"password-info\" :class=\"/[.!#$%&'*+/=?^_`{|}~-]/gm.test(password) ? 'correct' : 'incorrect'\">- Un caractère spécial (. ! # $ % & ' * + / = ? ^ _ ` { | } ~ -)</p>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col md=\"10\">\n                    <v-text-field append-outer-icon=\"mdi-lock-outline\" v-model=\"password2\" :rules=\"[rules.psswdMatch, rules.required]\" label=\"Confirmation du mot de passe\" :type=\"'password'\" clearable outlined dense required></v-text-field>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col>\n                    <v-btn :disabled=\"!valid\" @click=\"submit\" class=\"mr-2\" color=\"success\">\n                      S'inscrire\n                    </v-btn>\n                    <v-btn @click=\"reset\" class=\"mx-2\" color=\"error\">\n                      Annuler\n                    </v-btn>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-form>\n          </v-card-text>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport Api from '../api/Api.js'\n\nconst api = new Api()\n\nexport default {\n  name: 'Signup',\n  data () {\n    return {\n      valid: true,\n      lastname: '',\n      firstname: '',\n      nickname: '',\n      email: '',\n      password: '',\n      password2: '',\n      rules: {\n        required: v => !!v || 'Ce champ est requis !',\n        passwdMatch: () => this.password === this.password2 || 'Le mot de passe ne correspond pas',\n        password: () => (this.password.length > 7 && /[A-Z]/gm.test(this.password) && /[a-z]/gm.test(this.password) && /[0-9]/gm.test(this.password) && /[.!#$%&'*+/=?^_`{|}~-]/gm.test(this.password)) || 'Le mot de passe ne respecte pas les critères !',\n        mail: v => /.+@.+\\..+/.test(v) || 'L\\'email doit être valide !'\n      }\n    }\n  },\n  methods: {\n    async submit () {\n      try {\n        if (this.$refs.signupForm.validate()) {\n          console.log('submit')\n          const data = await api.createUser({\n            lastname: this.lastname,\n            firstname: this.firstname,\n            nickname: this.nickname,\n            email: this.email,\n            password: this.password\n          })\n          console.log(data)\n        }\n      } catch (err) {\n        console.error('{message}')\n      }\n    },\n    reset () {\n      this.$refs.signupForm.reset()\n    }\n  }\n}\n</script>\n\n<style scoped>\n.password-info {\n  font-size: 0.8em;\n}\n.password-info.incorrect {\n  color: red;\n}\n.password-info.correct {\n  color: green;\n}\n</style>\n"]}]}