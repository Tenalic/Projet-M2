{"remainingRequest":"/home/corentin/Documents/Projets/Projet-M2/front/node_modules/babel-loader/lib/index.js!/home/corentin/Documents/Projets/Projet-M2/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/corentin/Documents/Projets/Projet-M2/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/corentin/Documents/Projets/Projet-M2/front/src/views/Signup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/corentin/Documents/Projets/Projet-M2/front/src/views/Signup.vue","mtime":1607593132940},{"path":"/home/corentin/Documents/Projets/Projet-M2/front/node_modules/cache-loader/dist/cjs.js","mtime":1607591300623},{"path":"/home/corentin/Documents/Projets/Projet-M2/front/node_modules/babel-loader/lib/index.js","mtime":1607591300535},{"path":"/home/corentin/Documents/Projets/Projet-M2/front/node_modules/cache-loader/dist/cjs.js","mtime":1607591300623},{"path":"/home/corentin/Documents/Projets/Projet-M2/front/node_modules/vue-loader/lib/index.js","mtime":1607591304855}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvY29yZW50aW4vRG9jdW1lbnRzL1Byb2pldHMvUHJvamV0LU0yL2Zyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEFwaSBmcm9tICcuLi9hcGkvQXBpLmpzJzsKdmFyIGFwaSA9IG5ldyBBcGkoKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTaWdudXAnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiB7CiAgICAgIHZhbGlkOiB0cnVlLAogICAgICBsYXN0bmFtZTogJycsCiAgICAgIGZpcnN0bmFtZTogJycsCiAgICAgIG5pY2tuYW1lOiAnJywKICAgICAgZW1haWw6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIHBhc3N3b3JkMjogJycsCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcmVxdWlyZWQ6IGZ1bmN0aW9uIHJlcXVpcmVkKHYpIHsKICAgICAgICAgIHJldHVybiAhIXYgfHwgJ0NlIGNoYW1wIGVzdCByZXF1aXMgISc7CiAgICAgICAgfSwKICAgICAgICBwYXNzd2RNYXRjaDogZnVuY3Rpb24gcGFzc3dkTWF0Y2goKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMucGFzc3dvcmQgPT09IF90aGlzLnBhc3N3b3JkMiB8fCAnTGUgbW90IGRlIHBhc3NlIG5lIGNvcnJlc3BvbmQgcGFzJzsKICAgICAgICB9LAogICAgICAgIHBhc3N3b3JkOiBmdW5jdGlvbiBwYXNzd29yZCgpIHsKICAgICAgICAgIHJldHVybiBfdGhpcy5wYXNzd29yZC5sZW5ndGggPiA3ICYmIC9bQS1aXS9nbS50ZXN0KF90aGlzLnBhc3N3b3JkKSAmJiAvW2Etel0vZ20udGVzdChfdGhpcy5wYXNzd29yZCkgJiYgL1swLTldL2dtLnRlc3QoX3RoaXMucGFzc3dvcmQpICYmIC9bLiEjJCUmJyorLz0/Xl9ge3x9fi1dL2dtLnRlc3QoX3RoaXMucGFzc3dvcmQpIHx8ICdMZSBtb3QgZGUgcGFzc2UgbmUgcmVzcGVjdGUgcGFzIGxlcyBjcml0w6hyZXMgISc7CiAgICAgICAgfSwKICAgICAgICBtYWlsOiBmdW5jdGlvbiBtYWlsKHYpIHsKICAgICAgICAgIHJldHVybiAvLitALitcLi4rLy50ZXN0KHYpIHx8ICdMXCdlbWFpbCBkb2l0IMOqdHJlIHZhbGlkZSAhJzsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLiRyZWZzLnNpZ251cEZvcm0udmFsaWRhdGUoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3N1Ym1pdCcpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gYXBpLmNyZWF0ZVVzZXIoewogICAgICAgICAgICAgICAgICBsYXN0bmFtZTogX3RoaXMyLmxhc3RuYW1lLAogICAgICAgICAgICAgICAgICBmaXJzdG5hbWU6IF90aGlzMi5maXJzdG5hbWUsCiAgICAgICAgICAgICAgICAgIG5pY2tuYW1lOiBfdGhpczIubmlja25hbWUsCiAgICAgICAgICAgICAgICAgIGVtYWlsOiBfdGhpczIuZW1haWwsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBfdGhpczIucGFzc3dvcmQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwoKICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goJy9yZWdpc3RyYXRpb25zdWNjZXNzZnVsJyk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEwOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCAxMF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLiRyZWZzLnNpZ251cEZvcm0ucmVzZXQoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Signup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA,OAAA,GAAA,MAAA,eAAA;AAEA,IAAA,GAAA,GAAA,IAAA,GAAA,EAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AAAA;;AACA,WAAA;AACA,MAAA,KAAA,EAAA,IADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,KAAA,EAAA,EALA;AAMA,MAAA,QAAA,EAAA,EANA;AAOA,MAAA,SAAA,EAAA,EAPA;AAQA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,kBAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,CAAA,IAAA,uBAAA;AAAA,SADA;AAEA,QAAA,WAAA,EAAA;AAAA,iBAAA,KAAA,CAAA,QAAA,KAAA,KAAA,CAAA,SAAA,IAAA,mCAAA;AAAA,SAFA;AAGA,QAAA,QAAA,EAAA;AAAA,iBAAA,KAAA,CAAA,QAAA,CAAA,MAAA,GAAA,CAAA,IAAA,UAAA,IAAA,CAAA,KAAA,CAAA,QAAA,CAAA,IAAA,UAAA,IAAA,CAAA,KAAA,CAAA,QAAA,CAAA,IAAA,UAAA,IAAA,CAAA,KAAA,CAAA,QAAA,CAAA,IAAA,2BAAA,IAAA,CAAA,KAAA,CAAA,QAAA,CAAA,IAAA,gDAAA;AAAA,SAHA;AAIA,QAAA,IAAA,EAAA,cAAA,CAAA;AAAA,iBAAA,YAAA,IAAA,CAAA,CAAA,KAAA,6BAAA;AAAA;AAJA;AARA,KAAA;AAeA,GAlBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,qBAEA,MAAA,CAAA,KAAA,CAAA,UAAA,CAAA,QAAA,EAFA;AAAA;AAAA;AAAA;;AAGA,gBAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AAHA;AAAA,uBAIA,GAAA,CAAA,UAAA,CAAA;AACA,kBAAA,QAAA,EAAA,MAAA,CAAA,QADA;AAEA,kBAAA,SAAA,EAAA,MAAA,CAAA,SAFA;AAGA,kBAAA,QAAA,EAAA,MAAA,CAAA,QAHA;AAIA,kBAAA,KAAA,EAAA,MAAA,CAAA,KAJA;AAKA,kBAAA,QAAA,EAAA,MAAA,CAAA;AALA,iBAAA,CAJA;;AAAA;AAIA,gBAAA,IAJA;AAWA,gBAAA,OAAA,CAAA,GAAA,CAAA,IAAA;;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,yBAAA;;AAZA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAeA,gBAAA,OAAA,CAAA,KAAA;;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA,KAlBA;AAmBA,IAAA,KAnBA,mBAmBA;AACA,WAAA,KAAA,CAAA,UAAA,CAAA,KAAA;AACA;AArBA;AAnBA,CAAA","sourcesContent":["<template>\n  <v-container fill-height>\n    <v-row align=\"center\" justify=\"center\">\n      <v-col md=\"6\">\n        <v-card outlined>\n          <v-card-title>\n            S'inscrire\n          </v-card-title>\n          <v-card-text>\n            <v-form ref=\"signupForm\" v-model=\"valid\">\n              <v-container>\n                <v-row justify=\"start\">\n                  <v-col md=\"10\">\n                    <v-text-field append-outer-icon=\"mdi-format-text\" v-model=\"lastname\" :rules=\"[rules.required]\" label=\"Nom\" clearable outlined dense required></v-text-field>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col md=\"10\">\n                    <v-text-field append-outer-icon=\"mdi-format-text\" v-model=\"firstname\" :rules=\"[rules.required]\" label=\"Prénom\" clearable outlined dense required></v-text-field>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col md=\"10\">\n                    <v-text-field append-outer-icon=\"mdi-format-text\" v-model=\"nickname\" :rules=\"[rules.required]\" label=\"Pseudonyme\" clearable outlined dense required></v-text-field>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col md=\"10\">\n                    <v-text-field append-outer-icon=\"mdi-at\" v-model=\"email\" :rules=\"[rules.required, rules.mail]\" label=\"Email\" clearable outlined dense required></v-text-field>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col md=\"10\">\n                    <v-text-field append-outer-icon=\"mdi-lock-outline\" v-model=\"password\" :rules=\"[rules.required, rules.password]\" type=\"password\" label=\"Mot de passe\" clearable outlined dense required></v-text-field>\n                    <p class=\"password-info\">Votre mot de passe doit comporter au moins :</p>\n                    <p class=\"password-info\" :class=\"password.length > 7 ? 'correct' : 'incorrect'\">- 8 caractères</p>\n                    <p class=\"password-info\" :class=\"/[A-Z]/gm.test(password) ? 'correct' : 'incorrect'\">- Une lettre majuscule</p>\n                    <p class=\"password-info\" :class=\"/[a-z]/gm.test(password) ? 'correct' : 'incorrect'\">- Une lettre minuscule</p>\n                    <p class=\"password-info\" :class=\"/[0-9]/gm.test(password) ? 'correct' : 'incorrect'\">- Un chiffre</p>\n                    <p class=\"password-info\" :class=\"/[.!#$%&'*+/=?^_`{|}~-]/gm.test(password) ? 'correct' : 'incorrect'\">- Un caractère spécial (. ! # $ % & ' * + / = ? ^ _ ` { | } ~ -)</p>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col md=\"10\">\n                    <v-text-field append-outer-icon=\"mdi-lock-outline\" v-model=\"password2\" :rules=\"[rules.psswdMatch, rules.required]\" label=\"Confirmation du mot de passe\" :type=\"'password'\" clearable outlined dense required></v-text-field>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col>\n                    <v-btn :disabled=\"!valid\" @click=\"submit\" class=\"mr-2\" color=\"success\">\n                      S'inscrire\n                    </v-btn>\n                    <v-btn @click=\"reset\" class=\"mx-2\" color=\"error\">\n                      Annuler\n                    </v-btn>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-form>\n          </v-card-text>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport Api from '../api/Api.js'\n\nconst api = new Api()\n\nexport default {\n  name: 'Signup',\n  data () {\n    return {\n      valid: true,\n      lastname: '',\n      firstname: '',\n      nickname: '',\n      email: '',\n      password: '',\n      password2: '',\n      rules: {\n        required: v => !!v || 'Ce champ est requis !',\n        passwdMatch: () => this.password === this.password2 || 'Le mot de passe ne correspond pas',\n        password: () => (this.password.length > 7 && /[A-Z]/gm.test(this.password) && /[a-z]/gm.test(this.password) && /[0-9]/gm.test(this.password) && /[.!#$%&'*+/=?^_`{|}~-]/gm.test(this.password)) || 'Le mot de passe ne respecte pas les critères !',\n        mail: v => /.+@.+\\..+/.test(v) || 'L\\'email doit être valide !'\n      }\n    }\n  },\n  methods: {\n    async submit () {\n      try {\n        if (this.$refs.signupForm.validate()) {\n          console.log('submit')\n          const data = await api.createUser({\n            lastname: this.lastname,\n            firstname: this.firstname,\n            nickname: this.nickname,\n            email: this.email,\n            password: this.password\n          })\n          console.log(data)\n          this.$router.push('/registrationsuccessful')\n        }\n      } catch (err) {\n        console.error(err)\n      }\n    },\n    reset () {\n      this.$refs.signupForm.reset()\n    }\n  }\n}\n</script>\n\n<style scoped>\n.password-info {\n  font-size: 0.8em;\n}\n.password-info.incorrect {\n  color: red;\n}\n.password-info.correct {\n  color: green;\n}\n</style>\n"],"sourceRoot":"src/views"}]}